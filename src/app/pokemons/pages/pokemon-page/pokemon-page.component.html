<ng-template #divLoading>
  <mat-grid-list cols="1">
    <mat-grid-tile>
      <mat-spinner></mat-spinner>
    </mat-grid-tile>
  </mat-grid-list>
</ng-template>

<div *ngIf="pokemon; else divLoading" class="grid mt-2 justify-content-center">
  <mat-card class="col-12 sm:col-4">
    <mat-card-header>
      <mat-card-title>{{ pokemon.name | uppercase }}</mat-card-title>
      <mat-card-subtitle>{{ pokemon.egg_groups.name }}</mat-card-subtitle>
    </mat-card-header>
    <img [src]="image" alt="" mat-card-image />
  </mat-card>
  <mat-card class="col-12 sm:col-4">
    <mat-card-header class="m-4">
      <mat-card-title>Pokemon Details</mat-card-title>
    </mat-card-header>
    <mat-divider></mat-divider>
    <mat-card-content class="mt-2">
      <mat-card-title>Color : 
        {{ pokemon.color?.name | uppercase }}
      </mat-card-title>
      <mat-card-title> Power Level :
        {{
          pokemon.growth_rate?.name | defaulttext | uppercase
        }}
      </mat-card-title>
      <mat-card-title> Habitad :
        {{ pokemon.habitat?.name | defaulttext | uppercase }}
      </mat-card-title>
      <mat-card-title>Form :
        {{ pokemon.shape?.name | defaulttext | uppercase }}
      </mat-card-title>
      <mat-card-title>Capture Radius :
        {{ pokemon.capture_rate | defaulttext }}
      </mat-card-title>
      <mat-card-title>Generation :
        {{ pokemon.generation.name | defaulttext | uppercase }}
      </mat-card-title>
      <mat-card-title>Gender Rate :
        {{ pokemon.gender_rate | defaulttext }}
      </mat-card-title>
      <br />
      <mat-card-title *ngIf="pokemon.egg_groups">
        Group :
        <mat-chip-listbox>
          <mat-chip *ngFor="let item of pokemon.egg_groups">
            {{ item.name | defaulttext | uppercase }}
          </mat-chip>
        </mat-chip-listbox>
      </mat-card-title>
      <mat-card-title *ngIf="pokemon.egg_groups">
        Variations :
        <mat-chip-listbox>
          <mat-chip *ngFor="let item of pokemon.varieties">
            {{ item?.pokemon?.name | defaulttext | uppercase }}
          </mat-chip>
        </mat-chip-listbox>
      </mat-card-title>
      <button mat-button color="warn mt-5" (click)="goBack()">Back</button>
    </mat-card-content>
  </mat-card>
</div>
